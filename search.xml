<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[LinkCutTree学习笔记]]></title>
    <url>%2Fpost%2F3c348935.html</url>
    <content type="text"><![CDATA[[TOC] LinCutTree 基本操作 rotate splay access makeroot findroot 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150#include&lt;cstdio&gt;#include&lt;algorithm&gt;#include&lt;iostream&gt;#include&lt;cstring&gt;#include&lt;map&gt;#include&lt;bitset&gt;#define mk make_pair#define fi first#define nd second#define pii pair&lt;int,int&gt;#define pb push_back#define sqr(x) ((x)*(x))using namespace std;typedef long long ll;inline ll read() &#123;ll x = 0; char ch = getchar(), w = 1;while(ch &lt; '0' || ch &gt; '9') &#123;if(ch == '-') w = -1;ch = getchar();&#125;while(ch &gt;= '0' &amp;&amp; ch &lt;= '9') &#123;x = x * 10 + ch - '0';ch = getchar();&#125;return x * w;&#125;void write(ll x) &#123;if(x &lt; 0) putchar('-'), x = -x;if(x &gt; 9) write(x / 10);putchar(x % 10 + '0');&#125;inline void writeln(ll x) &#123;write(x);puts("");&#125;const int N = 4e5;int n, m;int v[N];int fa[N], ch[N][2], s[N];inline bool nr(int x) &#123; return ch[fa[x]][0] == x || ch[fa[x]][1] == x;&#125;bool r[N];inline void down(int x) &#123; if(r[x]) &#123; swap(ch[x][0], ch[x][1]); r[ch[x][0]] ^= 1; r[ch[x][1]] ^= 1; r[x] = 0; &#125;&#125;inline void up(int x) &#123; s[x] = s[ch[x][0]] ^ s[ch[x][1]] ^ v[x];&#125;int st[N];bool ident(int x) &#123; return ch[fa[x]][1] == x;&#125;void con(int x, int F, int how) &#123; ch[F][how] = x; fa[x] = F;&#125;void rotate(int x) &#123; if(ident(x)) &#123; int y = fa[x]; int z = ch[x][0]; fa[x] = fa[y]; if(nr(y)) con(x, fa[y], ident(y)); con(y, x, 0); con(z, y, 1); up(y); up(x); &#125; else &#123; int y = fa[x]; int z = ch[x][1]; fa[x] = fa[y]; if(nr(y)) con(x, fa[y], ident(y)); con(y, x, 1); con(z, y, 0); up(y); up(x); &#125;&#125;void splay(int x) &#123; int y = x, top = 0; while(nr(y)) //st[++top] = y, y = fa[y]; st[++top] = y , y = fa[y]; st[++top] = y;// printf("top=%d\n",top); while(top) down(st[top--])/*,printf("top=%d\n",st[top+1])*/; //puts("OKJJ");// printf("x=%d,%d %d\n",x,nr(x), fa[x]); for(int y = fa[x]; nr(x); rotate(x), y = fa[x]) &#123; // printf("x=%d %d %d\n",x,fa[x], y); if(nr(y)) rotate(ident(x) == ident(y) ? y : x); // printf("x=%d %d %d\n",x,fa[x], y); &#125; &#125;void access(int x) &#123; for(int y = 0; x; x = fa[y = x]) &#123; splay(x), ch[x][1] = y, up(x);// printf("x=%d\n",x); &#125;&#125;void makeroot(int x) &#123; access(x); // 仅仅打通了路径 // puts("OK2"); splay(x); //当前点转到根 r[x] ^= 1; down(x);&#125;void split(int x, int y) &#123; makeroot(x); access(y); splay(y);&#125;int findroot(int x)&#123; access(x); splay(x); down(x);////......... while(ch[x][0]) down(ch[x][0]), x = ch[x][0]; //splay(x); return x;&#125;void Link(int x, int y) &#123; makeroot(x);// puts("OK"); if(findroot(y) == x) return; fa[x] = y;&#125;void cut(int x, int y) &#123; /*split(x,y)不行，因为可能没有边*/ makeroot(x); if(findroot(y) == x &amp;&amp; fa[x] == y &amp;&amp; ch[y][0] == x &amp;&amp; !ch[x][1]) &#123; fa[x] = ch[y][0] = 0; up(y); &#125;&#125;int main() &#123; freopen("1.in","r",stdin); freopen("1.out","w",stdout); n = read(), m = read(); for(int i = 1; i &lt;= n; ++i) v[i] = read(); for(int i = 1; i &lt;= m; ++i) &#123; int op = read(), x = read(), y = read(); switch(op) &#123; case 0: split(x, y); writeln(s[y]); break; case 1: Link(y,y); break; case 2: cut(x,y); break; case 3: splay(x); v[x] = y; break; &#125; &#125; return 0;&#125;]]></content>
      <categories>
        <category>总结</category>
      </categories>
      <tags>
        <tag>LCT,模板</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[欧拉公式——震惊！小学生也能看懂的证明？]]></title>
    <url>%2Fpost%2F9401e9ac.html</url>
    <content type="text"><![CDATA[欧拉公式（未完待续） 前言 今天博主在b站上看完了一个视频。此视频介绍了欧拉从定义π\piπ、以欧拉命名、伯努利发明的数eee、sinsinsin和coscoscos以及eie^iei、eee的泰勒展开式以及虚数iii。 主要是因为最近几天要学FFTFFTFFT，这是一篇学习笔记，有错误的话，感谢评论里指出。 前置知识 幂法则 如果f(x)=xnf(x)=x^nf(x)=xn，那么f′(x)=nxn−1f&#x27;(x)=nx^{n-1}f′(x)=nxn−1 证明 加法则 两个函数f(x)f(x)f(x)、g(x)g(x)g(x)，那么(f(x)+g(x))′=f′(x)+g′(x)(f(x)+g(x))&#x27;=f&#x27;(x)+g&#x27;(x)(f(x)+g(x))′=f′(x)+g′(x) 积法则 两个函数f(x)f(x)f(x)、g(x)g(x)g(x)，那么(f(x)g(x))′=f(x)g′(x)+f′(x)g(x)(f(x)g(x))&#x27;=f(x)g&#x27;(x)+f&#x27;(x)g(x)(f(x)g(x))′=f(x)g′(x)+f′(x)g(x) 证明 链式法则 两个函数f(x)f(x)f(x)、g(x)g(x)g(x)，那么f′(g(x))=g′(f(x))g′(x)f&#x27;(g(x))=g&#x27;(f(x))g&#x27;(x)f′(g(x))=g′(f(x))g′(x)，也就是dfdx=dfdgdgdx\frac{\mathrm{d}f}{\mathrm{d}x}=\frac{\mathrm{d}f}{\mathrm{d}g}\frac{\mathrm{d}g}{\mathrm{d}x}dxdf​=dgdf​dxdg​ 证明 通过幂法则、链式法则推到商法则 三角函数的导数 sin⁡′(x)=cos(x)\sin&#x27;(x)=cos(x)sin′(x)=cos(x) cos⁡′(x)=−sin(x)\cos&#x27;(x)=-sin(x)cos′(x)=−sin(x) 证明 高阶导数 f(n)(x)f^{(n)}(x)f(n)(x)指的是f(x)f(x)f(x)的nnn阶导数。我自己的理解：描述f(x)f(x)f(x)的变化函数是f′(x)f&#x27;(x)f′(x)，描述f′(x)f&#x27;(x)f′(x)的变化函数f′′(x)f&#x27;&#x27;(x)f′′(x)，也就是f(n)f^{(n)}f(n)的变化受到f(n+1)f^{(n+1)}f(n+1)的控制，如果控制f1f^1f1、f2f^2f2···他们的函数都相等，那么&quot;理论上&quot;这两个函数是相等的。下面泰勒级数就用到这个思想。 拓展（无关本文) 指数函数求导 尝试求导 e的出现 a^x的导数 (ax)′=ln⁡(a)ax(a^x)&#x27;=\ln(a)a^x(ax)′=ln(a)ax 隐函数求导 圆的方程式x2+y2=rx^2+y^2=rx2+y2=r，这很显然，如果我们要对它求导怎么办？此时输入一个xxx不一定输出一个yyy。很显然这个函数是可以求导的，也就是求(x,y)(x,y)(x,y)这个坐标的斜率。 泰勒级数 由来 一个函数可以写成f(x)=∑i=0naixi=a0+a1x1+a2x2f(x)=\sum^n_{i=0}{a_ix^i}=a_0+a_1x_1+a_2x_2f(x)=∑i=0n​ai​xi=a0​+a1​x1​+a2​x2​ 在高阶导数的时候说过，如果两个函数每一阶导数都相等，那么&quot;理论上&quot;两个函数是相等的。 比如函数y=cos(x)y=cos(x)y=cos(x)，当x=0x=0x=0的时候，y=1y=1y=1 因为我们有cos′(x)=−sin(x)cos&#x27;(x)=-sin(x)cos′(x)=−sin(x)、cos′′(x)=−cos(x)cos&#x27;&#x27;(x)=-cos(x)cos′′(x)=−cos(x)、cos′′′(x)=sin(x)cos&#x27;&#x27;&#x27;(x)=sin(x)cos′′′(x)=sin(x)、cos′′′′(x)=cos(x)cos&#x27;&#x27;&#x27;&#x27;(x)=cos(x)cos′′′′(x)=cos(x) 此后就是−sin(x)-sin(x)−sin(x)、−cos(x)-cos(x)−cos(x)、sin(x)sin(x)sin(x)、cos(x)cos(x)cos(x)循环，求导次数xxx，其xmod 4=1230x \mod\ 4=1\,2\,3\,0xmod 4=1230的时候分别对应这四个。 cos(0)=1cos(0)=1cos(0)=1，f(x)=a0+∑i=1nai⋅0=a0=1f(x)=a_0+\sum_{i=1}^n{a_i\cdot0}=a_0=1f(x)=a0​+∑i=1n​ai​⋅0=a0​=1 cos′(0)=0cos&#x27;(0)=0cos′(0)=0，f′(x)=1⋅a1+∑i=2n(i−1)ai⋅0=1!⋅a1=0f&#x27;(x)=1\cdot a_1+\sum_{i=2}^n{(i-1)a_i\cdot0}=1!\cdot a_1=0f′(x)=1⋅a1​+∑i=2n​(i−1)ai​⋅0=1!⋅a1​=0 cos⁡′′(0)=−1\cos&#x27;&#x27;(0)=-1cos′′(0)=−1，同理f′′(x)=1⋅2⋅a2+∑i=3n(i−1)⋅(i−2)ai=2!⋅a2=−1f&#x27;&#x27;(x)=1\cdot2\cdot a_2+\sum_{i=3}^n{(i-1)\cdot(i-2)a_i}=2!\cdot a_2=-1f′′(x)=1⋅2⋅a2​+∑i=3n​(i−1)⋅(i−2)ai​=2!⋅a2​=−1 cos′′′(0)=0cos&#x27;&#x27;&#x27;(0)=0cos′′′(0)=0，f′′′(x)=1⋅2⋅3a3+∑i=4n(i−1)⋅(i−2)⋅(i−3)ai=3!⋅a3=0f&#x27;&#x27;&#x27;(x)=1\cdot2\cdot3 a_3+\sum_{i=4}^n{(i-1)\cdot(i-2)\cdot(i-3)a_i}=3!\cdot a_3=0f′′′(x)=1⋅2⋅3a3​+∑i=4n​(i−1)⋅(i−2)⋅(i−3)ai​=3!⋅a3​=0 cos′′′′(0)=1cos&#x27;&#x27;&#x27;&#x27;(0)=1cos′′′′(0)=1，f′′′′(x)=1⋅2⋅3⋅4a4+∑i=5n(i−1)⋅(i−2)⋅(i−3)⋅(i−4)ai=4!⋅a4=1f&#x27;&#x27;&#x27;&#x27;(x)=1\cdot2\cdot3\cdot4 a_4+\sum_{i=5}^n{(i-1)\cdot(i-2)\cdot(i-3)\cdot(i-4)a_i}=4!\cdot a_4=1f′′′′(x)=1⋅2⋅3⋅4a4​+∑i=5n​(i−1)⋅(i−2)⋅(i−3)⋅(i−4)ai​=4!⋅a4​=1 可以发现规律了，假设取了iii次导数，且有i=2ni=2ni=2n。 那么如果nnn是奇数有：i!⋅ai=−1⇒ai=−1i!i!\cdot a_i=-1\Rightarrow a_i=-\frac{1}{i!}i!⋅ai​=−1⇒ai​=−i!1​ 如果nnn是偶数有：i!⋅ai=1⇒ai=1i!i!\cdot a_i=1\Rightarrow a_i=\frac{1}{i!}i!⋅ai​=1⇒ai​=i!1​ 也就是cos(x)=1−x22!+x44!−x66!+x48!−…cos(x)=1-\frac{x^2}{2!}+\frac{x^4}{4!}-\frac{x^6}{6!}+\frac{x^4}{8!}-\dotscos(x)=1−2!x2​+4!x4​−6!x6​+8!x4​−… 同样的思路可以证明sin⁡(x)=∑i=2n+1,n∈N∞(−1)nxii!=x−x33!+x55!−x77!+…\sin(x)=\sum^{\infty}_{i=2n+1,n\in N}{(-1)^n\frac{x^i}{i!}}=x-\frac{x^3}{3!}+\frac{x^5}{5!}-\frac{x^7}{7!}+\dotssin(x)=∑i=2n+1,n∈N∞​(−1)ni!xi​=x−3!x3​+5!x5​−7!x7​+… 证明ex=…e^x=\dotsex=…比这更容易，根据定义(ex)′=ex(e^x)&#x27;=e^x(ex)′=ex，重复上述过程即可。 麦克劳林展开式 ex=∑i=0∞xii!=1+x11!+x22!+x33!+x44!+…e^x=\sum^\infty_{i=0}{\frac{x^i}{i!}}=1+\frac{x^1}{1!}+\frac{x^2}{2!}+\frac{x^3}{3!}+\frac{x^4}{4!}+\dotsex=∑i=0∞​i!xi​=1+1!x1​+2!x2​+3!x3​+4!x4​+… sin⁡(x)=∑i=2n+1,n∈N∞(−1)nxii!=x−x33!+x55!−x77!+…\sin(x)=\sum^{\infty}_{i=2n+1,n\in N}{(-1)^n\frac{x^i}{i!}}=x-\frac{x^3}{3!}+\frac{x^5}{5!}-\frac{x^7}{7!}+\dotssin(x)=∑i=2n+1,n∈N∞​(−1)ni!xi​=x−3!x3​+5!x5​−7!x7​+… cos⁡(x)=∑i=2n,n∈N∞(−1)nxii!=1−x22!+x44!−x66!+…\cos(x)=\sum^{\infty}_{i=2n,n\in N}(-1)^n\frac{x^i}{i!}=1-\frac{x^2}{2!}+\frac{x^4}{4!}-\frac{x^6}{6!}+\dotscos(x)=∑i=2n,n∈N∞​(−1)ni!xi​=1−2!x2​+4!x4​−6!x6​+… 本文正题 eix=1+(ix)11!+(ix)22!+(ix)33!+(ix)44!+(ix)55!=1+ix1!−x22!−ix33!+x44!+ix55!−…e^{ix}=1+\frac{(ix)^1}{1!}+\frac{(ix)^2}{2!}+\frac{(ix)^3}{3!}+\frac{(ix)^4}{4!}+\frac{(ix)^5}{5!}=1+\frac{ix}{1!}-\frac{x^2}{2!}-\frac{ix^3}{3!}+\frac{x^4}{4!}+\frac{ix^5}{5!}-\dotseix=1+1!(ix)1​+2!(ix)2​+3!(ix)3​+4!(ix)4​+5!(ix)5​=1+1!ix​−2!x2​−3!ix3​+4!x4​+5!ix5​−… 把带有iii的提出来有： eix=1−x22!+x44!−x66!+⋯+i(x−x33!+x55!−x77!)=cos(x)+i×sin(x)e^{ix}=1-\frac{x^2}{2!}+\frac{x^4}{4!}-\frac{x^6}{6!}+\dots+i(x-\frac{x^3}{3!}+\frac{x^5}{5!}-\frac{x^7}{7!})=cos(x)+i\times sin(x)eix=1−2!x2​+4!x4​−6!x6​+⋯+i(x−3!x3​+5!x5​−7!x7​)=cos(x)+i×sin(x) 当x=πx=\pix=π的时候 eiπ=cos⁡(π)+i×sin⁡(π)=−1e^{i\pi}=\cos(\pi)+i\times \sin(\pi)=-1eiπ=cos(π)+i×sin(π)=−1 所以eiπ+1=0e^{i\pi}+1=0eiπ+1=0]]></content>
      <categories>
        <category>总结</category>
      </categories>
      <tags>
        <tag>数学</tag>
      </tags>
  </entry>
</search>
